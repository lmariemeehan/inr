<!DOCTYPE html>
<html>
<head>
  <%- include('../static/partials/head.ejs') %>
</head>
<body>
  <!-- Navigation -->
  <%- include('../static/partials/navbar.ejs') %>
  <%- include('../static/partials/messages.ejs') %>

  <% if(currentUser) { %>
  <main class="container">

    <h1 class="my-4"><span><i class="far fa-calendar-check mr-2" id="appointment-icon"></i></span>Edit Appointment</h1>

    <div class="card">
      <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
          <li class="nav-item">
            <a class="nav-link active" href="/appointments/new"> Create New </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/appointments"> Show History </a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Feature to come!</a>
          </li>
        </ul>
      </div>
      <div class="card-body">
        <form action="/appointments/<%= appointment.id %>/update" method="post">
          <div class="form-row mt-2">
            <div class="form-group col">
              <label for="when"> When: </label>
              <input type="date" name="when" value="<%= appointment.when %>" class="form-control">
            </div>
            <div class="form-group col">
              <label for="at"> At: </label>
              <input type="time" name="at" value="<%= appointment.at %>" class="form-control">
            </div>
          </div>
          <div class="form-group">
            <label for="what"> What: </label>
            <input type="text" name="what" value="<%= appointment.what %>" class="form-control">
          </div>
          <div class="form-group">
            <label for="with"> With: </label>
            <input type="text" name="with" value="<%= appointment.with %>" class="form-control">
          </div>
          <div class="form-group">
            <label for="location"> Where: </label>
            <input type="text" name="location" value="<%= appointment.location %>" class="form-control">
          </div>
          <button type="submit" class="btn btn-primary mt-2">Submit</button>
        </form>
      </div>
    </div>

    <% } else { %>

      <div class="alert alert-warning mt-5" role="alert">
        You must first sign in to add an appointment.
      </div>

  </main>

  <% } %>

  <%- include('../static/partials/baseScripts.ejs') %>

</body>
</html>
